# Browser-Based Native Notifications

The **easiest way** to get native OS toast notifications - just open the browser!

## üéØ How It Works

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                                             ‚îÇ
‚îÇ  Your Team Member's Computer                                ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ  Browser Tab: http://localhost:5005          ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ                                               ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ  Web Dashboard (minimized or background)     ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ  ‚Üì                                            ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ  Web Notifications API                       ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ  ‚Üì                                            ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ  Operating System Notification Center        ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ                           ‚Üì                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ  üîî Native OS Toast Notification             ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ                                               ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ  üé≤ New Bet Created!                         ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ  John Doe ‚Ä¢ $25.00                           ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ  Warriors win tonight                        ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## ‚ú® Key Benefits

### 1. **Works from Docker** ‚úÖ
- No need to install anything on the host
- Just run `docker-compose up -d`
- Team members just open a URL

### 2. **Zero Installation** ‚úÖ
- No Node.js needed
- No desktop companion
- Just a browser (everyone has one!)

### 3. **Cross-Platform** ‚úÖ
- macOS ‚Üí Native macOS notifications
- Windows ‚Üí Windows 10/11 toasts
- Linux ‚Üí Desktop environment notifications
- Even works on **mobile browsers**!

### 4. **Team Friendly** ‚úÖ
- Share one URL: `http://192.168.1.100:5005`
- Everyone clicks "Allow"
- Everyone gets notifications

### 5. **Persistent** ‚úÖ
- Works when browser is minimized
- Works when on different tabs
- Only needs to keep tab open (can pin it!)

## üöÄ Setup Steps

### For Docker Host (One Person)

```bash
cd universal-notifier
docker-compose up -d
```

Note your IP address:
```bash
hostname -I  # Linux/macOS
ipconfig     # Windows
```

### For Everyone Else

1. Open browser
2. Go to `http://DOCKER-HOST-IP:5005`
3. Click "Allow" when asked for notifications
4. Done!

## üîî What Notifications Look Like

### macOS
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üé≤ New Bet Created!           ‚îÇ
‚îÇ John Doe ‚Ä¢ $25.00             ‚îÇ
‚îÇ Warriors win tonight          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

Appears as native macOS notification banner with:
- Sound alert
- User avatar (if available)
- Auto-dismisses after ~5 seconds
- Stays in Notification Center

### Windows 10/11
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üé≤ New Bet Created!           ‚îÇ
‚îÇ                               ‚îÇ
‚îÇ John Doe ‚Ä¢ $25.00             ‚îÇ
‚îÇ Warriors win tonight          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

Appears as Windows toast notification with:
- Sound alert
- Stays in Action Center
- Can click to focus browser

### Linux (GNOME/KDE/etc.)
Uses your desktop environment's notification system.

### Mobile (iOS/Android)
Yes, it works on mobile browsers too!
- iOS Safari: Native iOS notifications
- Android Chrome: Native Android notifications

## üé® Technical Details

### Web Notifications API

The dashboard uses the standard [Web Notifications API](https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API):

```javascript
// Request permission
await Notification.requestPermission();

// Show notification
new Notification('Title', {
  body: 'Message',
  icon: 'user-avatar.jpg',
  badge: 'app-icon.png',
  tag: 'unique-id', // Prevents duplicates
  requireInteraction: false, // Auto-close
  silent: false // Play sound
});
```

### Browser Support

| Browser | Support | Notes |
|---------|---------|-------|
| Chrome/Edge | ‚úÖ Full | Best experience |
| Firefox | ‚úÖ Full | Excellent |
| Safari | ‚úÖ Full | macOS/iOS |
| Opera | ‚úÖ Full | Chromium-based |
| Mobile browsers | ‚úÖ Most | iOS Safari, Android Chrome |

### Permission Model

1. **First visit:** Browser asks for permission
2. **User clicks "Allow":** Saved for this domain
3. **Future visits:** No prompt needed, notifications just work

### Privacy & Security

- ‚úÖ **User consent required:** Can't send notifications without permission
- ‚úÖ **Per-domain:** Each domain needs separate permission
- ‚úÖ **Revocable:** User can block anytime in browser settings
- ‚úÖ **HTTPS recommended:** Most browsers require HTTPS (or localhost)

## ‚öôÔ∏è Configuration

### Notification Duration

Currently set to 10 seconds. To customize, edit `public/index.html`:

```javascript
// Auto-close after 10 seconds
setTimeout(() => browserNotification.close(), 10000);
```

### Notification Sound

Browsers use system default notification sound. Can't customize per-notification (browser limitation).

### User Avatar

Automatically uses user's profile photo if available:

```javascript
icon: notification.creatorPhoto || undefined
```

## üêõ Troubleshooting

### "Browser didn't ask for permission"

**Already blocked?** Check browser settings:

**Chrome/Edge:**
1. Click üîí in address bar
2. Site settings ‚Üí Notifications ‚Üí Allow

**Firefox:**
1. Click üîí in address bar
2. Permissions ‚Üí Notifications ‚Üí Allow

**Safari:**
1. Safari ‚Üí Settings ‚Üí Websites ‚Üí Notifications
2. Add localhost:5005 ‚Üí Allow

### "Notifications not appearing"

1. **Check permission was granted:** Look for banner on dashboard
2. **Check browser supports it:** Should work in Chrome/Firefox/Safari
3. **Check Do Not Disturb:** System DND mode blocks all notifications
4. **Test manually:** Open browser console and run:
   ```javascript
   new Notification('Test', {body: 'This is a test'})
   ```

### "Works on localhost but not remote"

**HTTPS Required!** Most browsers only allow notifications on:
- `localhost` / `127.0.0.1`
- HTTPS domains

**Solutions:**
- Use a reverse proxy with SSL (nginx + Let's Encrypt)
- Use ngrok or similar tunneling service
- Use mDNS/Bonjour names (macOS)

### "Browser tab needs to stay open?"

**Yes, but:**
- Can minimize browser
- Can switch to other tabs
- Can pin the tab (right-click ‚Üí Pin Tab)
- Notifications still work in background!

Consider: Set the tab to auto-open on login

## üí° Pro Tips

### 1. Pin the Tab
Right-click the tab ‚Üí "Pin Tab"
- Takes minimal space
- Stays open
- Harder to accidentally close

### 2. Bookmark for Quick Access
- Bookmark: `http://localhost:5005`
- Add to bookmarks bar
- Name it "üé≤ Bets"

### 3. Set as Homepage
Make it open automatically when browser starts!

### 4. Use Profiles
Chrome/Edge: Create a work profile that auto-opens this tab

### 5. Multiple Monitors
Notifications appear on the screen where browser is/was last active

### 6. Test First
After granting permission, create a test bet to verify it works!

## üîí Security Considerations

- **Local network only:** Don't expose port 5005 to the internet
- **HTTPS in production:** Use a reverse proxy with SSL
- **Firewall rules:** Only allow access from trusted IPs
- **No sensitive data:** Notification content is visible on screen

## üìä Comparison

| Method | Browser Notifications | Desktop Companion |
|--------|----------------------|-------------------|
| **Installation** | ‚úÖ None | ‚ö†Ô∏è Requires Node.js |
| **Works from Docker** | ‚úÖ Yes | ‚ùå No |
| **Setup complexity** | ‚úÖ Open URL, click Allow | ‚ö†Ô∏è npm install + run script |
| **Team deployment** | ‚úÖ Share URL | ‚ö†Ô∏è Each person installs |
| **Remote access** | ‚úÖ Just works | ‚ö†Ô∏è Needs port forwarding |
| **Mobile support** | ‚úÖ Yes (iOS/Android) | ‚ùå No |
| **Resource usage** | ‚ö†Ô∏è Browser tab | ‚úÖ ~30MB standalone |
| **Browser dependency** | ‚ö†Ô∏è Tab must stay open | ‚úÖ No browser needed |

**Recommendation:**
- **For teams:** Use Browser Notifications (easiest)
- **For individuals who prefer:** Use Desktop Companion (optional)
- **Why not both?** Open dashboard to see history + use companion for guaranteed notifications

## üéâ Conclusion

The browser-based approach is the **best solution** for most teams:
- Works entirely from Docker
- Zero installation required
- Cross-platform by default
- Easy team deployment
- Mobile-friendly bonus

Just `docker-compose up -d` + open browser + click "Allow" = Done! üöÄ

---

**Questions?** See [README.md](README.md) or [QUICKSTART.md](QUICKSTART.md)
